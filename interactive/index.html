<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="capture.js"></script>
    <script src="upload.js"></script>
    <script src="https://kit.fontawesome.com/80d0187199.js" crossorigin="anonymous"></script>
    <meta charset="utf-8">
    <title>MeetingShot - Interactive Webcam Capture</title>
</head>

<body>
    <div class="grid-container">
        <div class="grid-item">
            <div id="videoDiv" class="container">
                <video autoplay="true" id="video">

                </video>
            </div>

            <button type="button" id="startbutton">Capture Image</button>
        </div>
        <div class="grid-item">
            <canvas id="staticpicture"></canvas>
            <div class="output">
                <img id="photo" alt="The screen capture will appear in this box.">
            </div>
        </div>
        <div class="grid-item">
            <img class="custom-image" id="customImageA"></img>
            <input class="custom-image-input" id="uploadImageA" type="file" accept=".jpg, .jpeg, .png" onchange="processInput(this)"></input>
            <label for="uploadImageA"><i class="fas fa-camera"></i></label>
        </div>
        <div class="grid-item">
            <img class="custom-image" id="customImageB"></img>
            <input class="custom-image-input" id="uploadImageB" type="file" accept=".jpg, .jpeg, .png" onchange="processInput(this)"></input>
            <label for="uploadImageB"><i class="fas fa-camera"></i></label>
        </div>
    </div>
</body>
<script>
    //input.addEventListener('change', readURL(this));
    function processInput (context) {
        if (context.files && context.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                var parentDiv = context.parentNode;
                var targetImage = parentDiv.querySelector('.custom-image');
                targetImage.setAttribute('src', e.target.result);
            }

            reader.readAsDataURL(context.files[0]);
        }
    };
</script>

</html>