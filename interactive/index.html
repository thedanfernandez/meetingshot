<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="capture.js"></script>
    <script src="upload.js"></script>
    <script src="https://kit.fontawesome.com/80d0187199.js" crossorigin="anonymous"></script>
    <meta charset="utf-8">
    <title>MeetingShot - Interactive Webcam Capture</title>
</head>

<body>
    <div class="grid-container">
        <div class="grid-item">
            <div id="videoDiv" class="container">
                <video autoplay="true" id="video">

                </video>
            </div>

            <button type="button" id="startbutton">Capture Image</button>
        </div>
        <div class="grid-item">
            <canvas id="staticpicture"></canvas>
            <div class="output">
                <img id="photo" alt="The screen capture will appear in this box.">
            </div>
        </div>
        <div class="grid-item">
            <img class="custom-image" id="customImageA"></img>
            <input class="custom-image-input" id="uploadImageA" type="file" accept=".jpg, .jpeg, .png"></input>
            <label for="uploadImageA"><i class="fas fa-camera"></i></label>
        </div>
        <div class="grid-item">
            <img class="custom-image" id="customImageB"></img>
            <input class="custom-image-input" id="uploadImageB" type="file" accept=".jpg, .jpeg, .png"></input>
            <label for="uploadImageB"><i class="fas fa-camera"></i></label>
        </div>
    </div>
</body>
<script>
    const input = document.getElementById('uploadImageA');;
    const input2 = document.getElementById('uploadImageB');;

    //input.addEventListener('change', readURL(this));
    input.onchange = function (event) {
        console.log(input.files);

        if (input.files && input.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                document.getElementById('customImageA').setAttribute('src', e.target.result);
            }

            reader.readAsDataURL(input.files[0]);
        }
    };

    input2.onchange = function (event) {
        console.log(input2.files);

        if (input2.files && input2.files[0]) {
            var reader = new FileReader();

            reader.onload = function (e) {
                document.getElementById('customImageB').setAttribute('src', e.target.result);
            }

            reader.readAsDataURL(input2.files[0]);
        }
    };

    input.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
    input.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });

    input2.addEventListener( 'focus', function(){ input.classList.add( 'has-focus' ); });
    input2.addEventListener( 'blur', function(){ input.classList.remove( 'has-focus' ); });
</script>

</html>